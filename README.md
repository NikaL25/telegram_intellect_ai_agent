# Telegram Intellect AI Agent

–ú–Ω–æ–≥–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–π Telegram-–∞–≥–µ–Ω—Ç-–ø–æ–º–æ—â–Ω–∏–∫ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –≤–Ω–µ—à–Ω–∏—Ö MCP-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤, –¥–∏–∞–ª–æ–≥–æ–≤–æ–π –ø–∞–º—è—Ç–∏ –∏ –≤–µ–∫—Ç–æ—Ä–Ω–æ–π –±–∞–∑—ã –∑–Ω–∞–Ω–∏–π.

## –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

Telegram-–∞–≥–µ–Ω—Ç –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–æ–≥–æ –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω–æ–≥–æ —á–∞—Ç-–±–æ—Ç–∞ —Å —Ä–∞—Å—à–∏—Ä—è–µ–º—ã–º –Ω–∞–±–æ—Ä–æ–º –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤: –∑–∞–ø—Ä–æ—Å—ã –∫ –ø–æ–≥–æ–¥–Ω—ã–º —Å–µ—Ä–≤–∏—Å–∞–º, –ø–æ–∏—Å–∫–æ–≤–∏–∫–∞–º, Google Sheets, —Ä–∞–±–æ—Ç–∞ —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º –∏ –∑–Ω–∞–Ω–∏—è–º–∏.

---

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### 1. –õ–æ–∫–∞–ª—å–Ω–æ (–±–µ–∑ Docker)

git clone https://github.com/NikaL25/telegram_intellect_ai_agent.git
cd telegram_intellect_ai_agent

```bash
python3 -m venv venv
source venv/bin/activate  # –¥–ª—è Linux/macOS
venv\Scripts\activate    # –¥–ª—è Windows
pip install -r requirements.txt
```

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –Ω—É–∂–Ω—ã–µ –∫–ª—é—á–∏ (—Å–º. –Ω–∏–∂–µ).

```bash
python main.py
```

### 2. –ß–µ—Ä–µ–∑ Docker

```bash
docker-compose up --build -d    # –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤
docker-compose logs -f          # –î–ª—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏: docker-compose down
```

---

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ API-–∫–ª—é—á–µ–π (.env)

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª .env –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:

```
BOT_TOKEN=...               # Telegram Bot Token
WEATHER_API_KEY=...         # –ö–ª—é—á OpenWeatherMap
GSHEETS_CREDENTIALS_PATH=/app/secrets/service_account.json   # –ø—É—Ç—å –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
SERPAPI_KEY=...             # –ö–ª—é—á SerpAPI
```

- –î–ª—è Google Sheets —Å–∫–∞—á–∞–π—Ç–µ service_account.json –∏ –ø–æ–º–µ—Å—Ç–∏—Ç–µ –µ–≥–æ –≤ ./secrets. –†–∞—Å—à–∞—Ä—å—Ç–µ –Ω—É–∂–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã –Ω–∞ —Å–µ—Ä–≤–∏—Å–Ω—ã–π email.

---

## –ë–∞–∑–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã Telegram-–±–æ—Ç–∞

- `/help` ‚Äî —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∫–æ–º–∞–Ω–¥
- `/health` ‚Äî –±—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏
- `/weather <–≥–æ—Ä–æ–¥>` ‚Äî —É–∑–Ω–∞—Ç—å –ø–æ–≥–æ–¥—É
- `/sheets_read <sheet_id> <A1:Range>` ‚Äî –ø–æ–ª—É—á–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è –∏–∑ Google Sheets
- `/search <–∑–∞–ø—Ä–æ—Å>` ‚Äî –ø–æ–∏—Å–∫ Google —á–µ—Ä–µ–∑ SerpAPI
- `/ask_kb <–≤–æ–ø—Ä–æ—Å>` ‚Äî –ø–æ–∏—Å–∫ –ø–æ –±–∞–∑–µ –∑–Ω–∞–Ω–∏–π (–µ—Å–ª–∏ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω)

–ü—Ä–∏–º–µ—Ä:

```
/weather –ú–æ—Å–∫–≤–∞
/sheets_read 1etjsOJYnsAOGkxwazNop-pAPKT7LX4_qM-bvd55aoRU A1:B10
/search aiogram –ø—Ä–∏–º–µ—Ä—ã
```

---

## –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö MCP-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤

1. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –º–æ–¥—É–ª—å –≤ –ø–∞–ø–∫–µ `/mcp`, —Ä–µ–∞–ª–∏–∑–æ–≤–∞–≤ –∫–ª–∞—Å—Å-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç —Å –Ω—É–∂–Ω—ã–º –≤–Ω–µ—à–Ω–∏–º API –∏–ª–∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å—é.
2. –î–æ–±–∞–≤—å—Ç–µ –µ–≥–æ –∏–º–ø–æ—Ä—Ç –∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é –≤ `bot.py`.
3. –í–ø–∏—à–∏—Ç–µ –Ω–æ–≤—É—é –∫–æ–º–∞–Ω–¥—É-–æ–±—Ä–∞–±–æ—Ç—á–∏–∫, –∫–æ—Ç–æ—Ä–∞—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç MCP-–∫–ª–∏–µ–Ω—Ç.
4. –û–ø–∏—Å–∞–Ω–∏–µ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ ‚Äî –æ–±–Ω–æ–≤–∏—Ç–µ /help!

---

## –†–∞–±–æ—Ç–∞ —Å –ø–∞–º—è—Ç—å—é –±–æ—Ç–∞

- –ö–∞–∂–¥—ã–π —á–∞—Ç —Å –±–æ—Ç–æ–º —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ —Ç–∞–±–ª–∏—Ü–µ SQLite (`memory/session_memory.db`).
- –ú–µ—Ç–æ–¥—ã `add_message` –∏ `get_history` —É–ø—Ä–∞–≤–ª—è—é—Ç –∑–∞–ø–∏—Å—å—é –≤ –±–∞–∑—É.
- –ò—Å—Ç–æ—Ä–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –≤ –¥–∏–∞–ª–æ–≥–∞—Ö, –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤, –∞–Ω–∞–ª–∏—Ç–∏–∫–∏, –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å LLM.

```python
from memory.memory import SessionMemory
mem = SessionMemory()
mem.add_message('123', 'user', '–ü—Ä–∏–≤–µ—Ç!')
history = mem.get_history('123')
```

---

## –†–∞–±–æ—Ç–∞ —Å –≤–µ–∫—Ç–æ—Ä–Ω–æ–π –±–∞–∑–æ–π –∑–Ω–∞–Ω–∏–π

- –í—Å–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã –ø—Ä–µ–æ–±—Ä–∞–∑—É—é—Ç—Å—è –≤ –≤–µ–∫—Ç–æ—Ä—ã —á–µ—Ä–µ–∑ SentenceTransformers.
- –î–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ñ–∞–∫—Ç–∞/—Å—Ç–∞—Ç—å–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ:

```python
from knowledge_base.vector_db import VectorKnowledgeBase
kb = VectorKnowledgeBase()
k.badd_document('fact-1', 'Python ‚Äî —ç—Ç–æ —è–∑—ã–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è.')
results = kb.query('–ß—Ç–æ —Ç–∞–∫–æ–µ Python?')
```

- –î–æ–∫—É–º–µ–Ω—Ç—ã —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –∫–∞—Ç–∞–ª–æ–≥–µ `knowledge_base/chroma_data/`, –±–∞–∑–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∏ –Ω–µ —Ç–µ—Ä—è–µ—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ.
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ—Ç–≤–µ—Ç—ã –±–∞–∑—ã –∑–Ω–∞–Ω–∏–π –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π –±–æ—Ç–∞: —Å–ø—Ä–∞–≤–∫–∞, FAQ, –ø–æ–∏—Å–∫ —Ñ–∞–∫—Ç–æ–≤.

---

## –í–∫–ª–∞–¥ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ (Contribution)

- –†–∞—Å—à–∏—Ä—è–π—Ç–µ –Ω–æ–≤—ã–µ MCP –∏ –∫–æ–º–∞–Ω–¥—ã.
- –ó–∞–≥—Ä—É–∂–∞–π—Ç–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å–ø—Ä–∞–≤–æ—á–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã –¥–ª—è –≤–µ–∫—Ç–æ—Ä–Ω–æ–π –±–∞–∑—ã.
- –î–µ–ª–∞–π—Ç–µ –ø—É–ª—Ä–µ–∫–≤–µ—Å—Ç—ã —Å —É–ª—É—á—à–µ–Ω–∏—è–º–∏!

---

## –ö–æ–Ω—Ç–∞–∫—Ç—ã –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞

–í–æ–ø—Ä–æ—Å—ã, –±–∞–≥–∏, –∏–¥–µ–∏ ‚Äî —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ issue –∏–ª–∏ –ø–∏—à–∏—Ç–µ –º–µ–π–Ω—Ç–µ–π–Ω–µ—Ä—É.

## –ü—Ä–∏–º–µ—Ä –¥–∏–∞–ª–æ–≥–∞

```
/health
/help
/weather –ú–æ—Å–∫–≤–∞
–ö–∞–∫–∞—è –ø–æ–≥–æ–¥–∞ –∑–∞–≤—Ç—Ä–∞?
/sheets_read 1etjsOJYnsAOGkxwazNop-pAPKT7LX4_qM-bvd55aoRU A1:B5
/sheets_add 1etjsOJYnsAOGkxwazNop-pAPKT7LX4_qM-bvd55aoRU –ö—É–ø–∏—Ç—å –º–æ–ª–æ–∫–æ –∏ —Ö–ª–µ–±
/search –Ω–æ–≤–æ—Å—Ç–∏ –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç
–î–æ–±–∞–≤—å –∫—É–ø–∏—Ç—å —Ö–ª–µ–±
```

üß™ –û–∂–∏–¥–∞–µ–º—ã–µ –æ—Ç–≤–µ—Ç—ã

üß™ **–û–∂–∏–¥–∞–µ–º—ã–µ –æ—Ç–≤–µ—Ç—ã**

1Ô∏è‚É£ `/health`  
‚úÖ –ë–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç!

2Ô∏è‚É£ `/help`  
–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∫–æ–º–∞–Ω–¥ –∏ –æ–ø–∏—Å–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–π.

3Ô∏è‚É£ `/weather –ú–æ—Å–∫–≤–∞`  
–ü–æ–≥–æ–¥–∞ –≤ –ú–æ—Å–∫–≤–µ —Å–µ–π—á–∞—Å: –æ–±–ª–∞—á–Ω–æ —Å –ø—Ä–æ—è—Å–Ω–µ–Ω–∏—è–º–∏, ~5¬∞C.

4Ô∏è‚É£ `–ö–∞–∫–∞—è –ø–æ–≥–æ–¥–∞ –∑–∞–≤—Ç—Ä–∞?`  
–ó–∞–≤—Ç—Ä–∞ –≤ –ú–æ—Å–∫–≤–µ –æ–∫–æ–ª–æ 6.2¬∞C, –≤–æ–∑–º–æ–∂–Ω—ã –æ—Å–∞–¥–∫–∏.

5Ô∏è‚É£ `/sheets_read ‚Ä¶ A1:B10`  
–í—ã–≤–æ–¥–∏—Ç —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ç–∞–±–ª–∏—Ü—ã –≤ –∑–∞–¥–∞–Ω–Ω–æ–º –¥–∏–∞–ø–∞–∑–æ–Ω–µ (–ø—Ä–∏–º–µ—Ä):

```
123    –¢–µ—Å—Ç
```

6Ô∏è‚É£ `/sheets_add ‚Ä¶ –ö—É–ø–∏—Ç—å –º–æ–ª–æ–∫–æ –∏ —Ö–ª–µ–±`  
‚úÖ –ó–∞–¥–∞—á–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∞ –≤ Google Sheets.

7Ô∏è‚É£ `/search –Ω–æ–≤–æ—Å—Ç–∏ –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç`  
–í—ã–≤–æ–¥–∏—Ç —Å–ø–∏—Å–æ–∫ 2‚Äì3 —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö —Å—Å—ã–ª–æ–∫ –∏ –∫—Ä–∞—Ç–∫–∏–µ –æ–ø–∏—Å–∞–Ω–∏—è.

8Ô∏è‚É£ `–ê –∫–∞–∫–∞—è –∑–∞–≤—Ç—Ä–∞ –ø–æ–≥–æ–¥–∞ –≤ –ú–æ—Å–∫–≤–µ?`  
–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–æ–≥–Ω–æ–∑ –Ω–∞ –∑–∞–≤—Ç—Ä–∞, –∏—Å–ø–æ–ª—å–∑—É—è –ø–∞–º—è—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞.

## –ü—Ä–∏–º–µ—Ä –†–∞–±–æ—Ç—ã

/health

# –û—Ç–≤–µ—Ç: ‚úÖ –ë–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç!

/help

# –û—Ç–≤–µ—Ç: –≠—Ç–æ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–π Telegram-–∞–≥–µ–Ω—Ç.

# –î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:

# /help ‚Äî —Å–ø—Ä–∞–≤–∫–∞

# /health ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è

# /weather <–≥–æ—Ä–æ–¥> ‚Äî —É–∑–Ω–∞—Ç—å –ø–æ–≥–æ–¥—É (–ø—Ä–∏–º–µ—Ä: /weather –ú–æ—Å–∫–≤–∞)

# /sheets_read <sheet_id> <A1:Range> ‚Äî –ø—Ä–æ—á–∏—Ç–∞—Ç—å –¥–∏–∞–ø–∞–∑–æ–Ω –∏–∑ Google Sheets

# /sheets_add <sheet_id> <—Ç–µ–∫—Å—Ç –∑–∞–¥–∞—á–∏> ‚Äî –¥–æ–±–∞–≤–∏—Ç—å —Å—Ç—Ä–æ–∫—É (–ø—Ä–∏–º–µ—Ä: /sheets_add 1AbcD... –ö—É–ø–∏—Ç—å –º–æ–ª–æ–∫–æ –∏ —Ö–ª–µ–±)

# /search <–∑–∞–ø—Ä–æ—Å> ‚Äî –ø–æ–∏—Å–∫ –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ (–ø—Ä–∏–º–µ—Ä: /search aiogram –ø—Ä–∏–º–µ—Ä—ã)

/sheets_add 1etjsOJYnsAOGkxwazNop-pAPKT7LX4_qM-bvd55aoRU –ö—É–ø–∏—Ç—å –º–∞—Å–ª–æ

# –û—Ç–≤–µ—Ç: –°—Ç—Ä–æ–∫–∞ —É—Å–ø–µ—à–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω–∞ –≤ Google Sheets!

/sheets_read 1etjsOJYnsAOGkxwazNop-pAPKT7LX4_qM-bvd55aoRU A1:B5

# –û—Ç–≤–µ—Ç: –°–æ–¥–µ—Ä–∂–∏–º–æ–µ –¥–∏–∞–ø–∞–∑–æ–Ω–∞ A1:B5:

# 123 –¢–µ—Å—Ç

# ...

–î–æ–±–∞–≤—å –∫—É–ø–∏—Ç—å –º–æ–ª–æ–∫–æ

# –û—Ç–≤–µ—Ç: ‚úÖ –ó–∞–¥–∞—á–∞ ¬´–∫—É–ø–∏—Ç—å –º–æ–ª–æ–∫–æ¬ª —É—Å–ø–µ—à–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω–∞ –≤ Google Sheets!

/weather –ú–æ—Å–∫–≤–∞

# –û—Ç–≤–µ—Ç: –ü–æ–≥–æ–¥–∞ –≤ –ú–æ—Å–∫–≤–∞ —Å–µ–π—á–∞—Å:

# –Ø—Å–Ω–æ, 15¬∞C

![Telegram Bot View](screenshots/bot_screen-1.jpg)
![Telegram Bot View](screenshots/bot_screen-2.jpg)
